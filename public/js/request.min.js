app.service('request', function($http,$q) {
    this.query = function (data) {
        var deferred = $q.defer();
        return $http({
            method : 'POST',
            url: data.url,
            data : data
        }).success(function(response){
            deferred.resolve(response);
        }).error(function(data, status, headers){
            var error = data;
            deferred.reject(error);
        });
    }
});